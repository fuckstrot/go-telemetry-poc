# üñ•Ô∏è –°–∏—Å—Ç–µ–º–∞ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¢–µ–ª–µ–º–µ—Ç—Ä–∏–∏

[![Go Version](https://img.shields.io/badge/go-1.18%2B-blue)](https://golang.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![MQTT](https://img.shields.io/badge/protocol-MQTT-blue)](https://mqtt.org/)

![System Diagram](https://via.placeholder.com/800x400?text=–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞+–°–∏—Å—Ç–µ–º—ã+–¢–µ–ª–µ–º–µ—Ç—Ä–∏–∏)  
*–ü—Ä–∏–º–µ—Ä –¥–∏–∞–≥—Ä–∞–º–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞*

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –Ω–∞ Go, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –∏—Ö —á–µ—Ä–µ–∑ MQTT –±—Ä–æ–∫–µ—Ä. –ü–æ–¥–ø–∏—Å—á–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã**:
  - üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU, –ø–∞–º—è—Ç–∏ –∏ –¥–∏—Å–∫–∞ (% –∏ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
  - üåê –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
  - üîù –¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤
  - üìÅ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

- **–†–∞–±–æ—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**:
  - üîÑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ pub/sub –Ω–∞ –æ—Å–Ω–æ–≤–µ MQTT
  - ‚è±Ô∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
  - üîí –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö

- **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å**:
  - üìù –î–≤–æ–π–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
  - üõë –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞–≤–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã
  - ‚öôÔ∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

- **–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞**:
  - üß© –ü–∞–∫–µ—Ç—ã —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –≤ JSON
  - üëÅÔ∏è –ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–µ –æ—Ç—á—ë—Ç—ã –≤ –∫–æ–Ω—Å–æ–ª–∏
  - üïí –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.18+
- –ë—Ä–æ–∫–µ—Ä MQTT (Mosquitto, EMQX –∏–ª–∏ –æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å)
- Linux/Unix —Å–∏—Å—Ç–µ–º–∞ (—á–∞—Å—Ç–∏—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ macOS)

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/yourusername/telemetry-system.git
cd telemetry-system

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
go mod download

# –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
go build -o telemetry-system
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config.json`:

```json
{
  "broker_address": "tcp://localhost:1883",
  "mqtt_topic": "telemetry/fullsystem",
  "collection_interval": 10,
  "max_processes": 50,
  "critical_files": [
    "/etc/passwd",
    "/etc/hosts"
  ],
  "log_files": {
    "system_log": "system.log",
    "event_log": "events.log"
  }
}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä               | –û–ø–∏—Å–∞–Ω–∏–µ                          | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é          |
|------------------------|-----------------------------------|-----------------------|
| `broker_address`       | URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±—Ä–æ–∫–µ—Ä—É MQTT    | –û–±—è–∑–∞—Ç–µ–ª–µ–Ω           |
| `mqtt_topic`           | –¢–µ–º–∞ MQTT –¥–ª—è –¥–∞–Ω–Ω—ã—Ö —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏   | `telemetry/fullsystem` |
| `collection_interval`  | –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–±–æ—Ä–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö         | `10`                 |
| `max_processes`        | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤| `50`                 |
| `critical_files`       | –°–ø–∏—Å–æ–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤       | `[]`                 |
| `log_files.system_log` | –ü—É—Ç—å –∫ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É –ª–æ–≥—É            | `system.log`         |
| `log_files.event_log`  | –ü—É—Ç—å –∫ –ª–æ–≥—É —Å–æ–±—ã—Ç–∏–π               | `events.log`         |

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

```bash
./telemetry-system
```

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ó–∞–ø—É—Å—Ç–∏—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∏
2. –ü–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ MQTT –±—Ä–æ–∫–µ—Ä—É
3. –ù–∞—á–Ω—ë—Ç —Å–±–æ—Ä –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—é —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏
4. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ —Ñ–∞–π–ª—ã

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```text
=== –û—Ç—á—ë—Ç –ø–æ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ —Å–∏—Å—Ç–µ–º—ã ===
üïí –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞: 2023-07-15T14:30:45Z

[üíª –°–∏—Å—Ç–µ–º–∞]
üè∑Ô∏è –ò–º—è —Ö–æ—Å—Ç–∞: server-01
üñ•Ô∏è –û–°: ubuntu 22.04 (–Ø–¥—Ä–æ: 5.15.0-76-generic)
‚è±Ô∏è –ê–ø—Ç–∞–π–º: 02d 14h 30m 45s
üåê IP-–∞–¥—Ä–µ—Å–∞: 192.168.1.100, 10.0.0.2
‚öôÔ∏è –¶–ü–£: 8 | Go: go1.20.4

[üîß –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ]
üöÄ –¶–ü–£: 24.75%
üß† –ü–∞–º—è—Ç—å: 65.33% (5.2 –ì–ë / 8.0 –ì–ë)
üíæ –î–∏—Å–∫: 42.15% (42.1 –ì–ë / 100.0 –ì–ë)

[üåê –°–µ—Ç—å]
üì§ –û–±—â–∏–π —Ç—Ä–∞—Ñ–∏–∫: ‚Üë 124.25–ú–ë ‚Üì 984.72–ú–ë

üîó –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (12):
- tcp  192.168.1.100:22 ‚Üí 203.0.113.5:64231 [ESTABLISHED]
- tcp  0.0.0.0:80      ‚Üí 0.0.0.0:0        [LISTEN]

[üìà –¢–æ–ø-10 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤]
   PID –ò–º—è      CPU% MEM%      RSS –ü–æ—Ç–æ–∫–∏ –í–≤–æ–¥-–≤—ã–≤–æ–¥ –°—Ç–∞—Ç—É—Å
  1234 node    15.5  12.3  1.2 –ì–ë  32 ‚Üë1.4–ú–ë‚Üì24–ú–ë running
  5678 dockerd  8.2   8.7 870.4 –ú–ë 45 ‚Üë24–ú–ë‚Üì1.2–ú–ë sleeping

[üìÅ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã]
- /etc/passwd (1.2 –ö–ë, –∏–∑–º–µ–Ω—ë–Ω 2023-07-01T09:00:00Z)
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

| –û–ø—Ü–∏—è        | –û–ø–∏—Å–∞–Ω–∏–µ                              |
|--------------|---------------------------------------|
| `-config`    | –ü—É—Ç—å –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º—É –∫–æ–Ω—Ñ–∏–≥—É      |
| `-version`   | –ü–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è            |
| `-debug`     | –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ        |

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
telemetry-system/
‚îú‚îÄ‚îÄ main.go                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ config.json             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ go.mod                  # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Go
‚îú‚îÄ‚îÄ system.log              # –°–∏—Å—Ç–µ–º–Ω—ã–π –ª–æ–≥
‚îú‚îÄ‚îÄ events.log              # –õ–æ–≥ —Å–æ–±—ã—Ç–∏–π
‚îú‚îÄ‚îÄ pkg/
‚îÇ   ‚îú‚îÄ‚îÄ collector/          # –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫
‚îÇ   ‚îú‚îÄ‚îÄ publisher/          # –ü—É–±–ª–∏–∫–∞—Ü–∏—è MQTT
‚îÇ   ‚îú‚îÄ‚îÄ subscriber/         # –ü–æ–¥–ø–∏—Å–∫–∞ MQTT
‚îÇ   ‚îî‚îÄ‚îÄ models/             # –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ –ª–∏—Ü–µ–Ω–∑–∏–∏ MIT - –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º. –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE).

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è –≤–∫–ª–∞–¥—ã! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–ª–µ–¥—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–∞–º:

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ (`git checkout -b feature/–Ω–æ–≤–∞—è-—Ñ—É–Ω–∫—Ü–∏—è`)
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -am '–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é'`)
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤–µ—Ç–∫—É (`git push origin feature/–Ω–æ–≤–∞—è-—Ñ—É–Ω–∫—Ü–∏—è`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ pull request

## üó∫Ô∏è –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è

- [x] –ë–∞–∑–æ–≤—ã–π —Å–±–æ—Ä —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MQTT
- [x] –ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –ø–∞–º—è—Ç–∏/–¥–∏—Å–∫–∞
- [ ] –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è Docker
- [ ] Endpoint –º–µ—Ç—Ä–∏–∫ Prometheus
- [ ] –°–∏—Å—Ç–µ–º–∞ –æ–ø–æ–≤–µ—â–µ–Ω–∏–π
- [ ] –í–µ–±-–ø–∞–Ω–µ–ª—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## ‚ùì –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö –∏ –∑–∞–ø—Ä–æ—Å–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, [–æ—Ç–∫—Ä–æ–π—Ç–µ issue](https://github.com/yourusername/telemetry-system/issues).

---

**–¢–µ–≥–∏**: `go` `—Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è` `–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥` `mqtt` `—Å–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏` `–æ–ø–µ–Ω—Å–æ—Ä—Å`
